/* ============================================
   FONT IMPORTS - Premium Typography
   ============================================ */
@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,400;1,500&display=swap');
@import url('https://api.fontshare.com/v2/css?f[]=clash-display@200,300,400,500,600,700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@100;200;300;400;500;600;700;800;900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Sora:wght@100;200;300;400;500;600;700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   CSS VARIABLES & DESIGN TOKENS
   ============================================ */
:root {
  /* Premium Color Palette */
  --color-primary-50: #faf5ff;
  --color-primary-100: #f3e8ff;
  --color-primary-200: #e9d5ff;
  --color-primary-300: #d8b4fe;
  --color-primary-400: #c084fc;
  --color-primary-500: #a855f7;
  --color-primary-600: #9333ea;
  --color-primary-700: #7c3aed;
  --color-primary-800: #6b21a8;
  --color-primary-900: #581c87;
  
  /* Accent Colors */
  --accent-gold: #fbbf24;
  --accent-emerald: #10b981;
  --accent-rose: #f43f5e;
  --accent-sky: #0ea5e9;
  
  /* Neutral Palette */
  --neutral-50: #fafafa;
  --neutral-100: #f5f5f5;
  --neutral-200: #e5e5e5;
  --neutral-300: #d4d4d4;
  --neutral-400: #a3a3a3;
  --neutral-500: #737373;
  --neutral-600: #525252;
  --neutral-700: #404040;
  --neutral-800: #262626;
  --neutral-900: #171717;
  --neutral-950: #0a0a0a;
  
  /* Premium Gradients */
  --gradient-primary: linear-gradient(135deg, #7c3aed 0%, #a855f7 50%, #c084fc 100%);
  --gradient-secondary: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #a78bfa 100%);
  --gradient-aurora: linear-gradient(135deg, #667eea 0%, #764ba2 40%, #f093fb 100%);
  --gradient-sunset: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
  --gradient-ocean: linear-gradient(135deg, #667eea 0%, #4ecdc4 100%);
  --gradient-midnight: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
  --gradient-mesh: radial-gradient(at 40% 20%, hsla(262, 100%, 74%, 0.3) 0px, transparent 50%),
                   radial-gradient(at 80% 0%, hsla(189, 100%, 56%, 0.2) 0px, transparent 50%),
                   radial-gradient(at 0% 50%, hsla(355, 100%, 72%, 0.2) 0px, transparent 50%);
  
  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);
  --shadow-glow: 0 0 30px rgba(139, 92, 246, 0.4);
  --shadow-glow-lg: 0 0 60px rgba(139, 92, 246, 0.3);
  
  /* Typography */
  --font-display: 'Clash Display', 'Outfit', system-ui, sans-serif;
  --font-heading: 'Sora', 'Plus Jakarta Sans', system-ui, sans-serif;
  --font-body: 'Plus Jakarta Sans', 'Inter', system-ui, sans-serif;
  
  /* Transitions */
  --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-out-quart: cubic-bezier(0.25, 1, 0.5, 1);
  --ease-in-out-circ: cubic-bezier(0.85, 0, 0.15, 1);
  --spring-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
  
  /* Spacing */
  --section-padding: clamp(3rem, 8vw, 8rem);
}

/* ============================================
   BASE STYLES
   ============================================ */
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  scroll-behavior: smooth;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  font-feature-settings: "kern" 1, "liga" 1;
}

body {
  font-family: var(--font-body);
  font-weight: 400;
  line-height: 1.7;
  color: var(--neutral-800);
  background-color: var(--neutral-50);
  overflow-x: hidden;
  transition: background-color 0.3s var(--ease-out-expo), 
              color 0.3s var(--ease-out-expo);
}

/* ============================================
   MOBILE-FRIENDLY UTILITIES
   ============================================ */
.touch-manipulation {
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
}

/* Ensure minimum touch target sizes */
button, a, input[type="button"], input[type="submit"] {
  min-height: 44px;
  min-width: 44px;
}

@media (max-width: 640px) {
  /* Better text readability on mobile */
  body {
    font-size: 16px; /* Prevents zoom on iOS */
    -webkit-text-size-adjust: 100%;
  }
  
  /* Improve form inputs on mobile */
  input, textarea, select {
    font-size: 16px; /* Prevents zoom on iOS */
    min-height: 48px;
  }
  
  /* Better spacing for mobile */
  .container {
    padding-left: 1rem;
    padding-right: 1rem;
  }
}

/* Smooth scrolling for mobile */
@media (prefers-reduced-motion: no-preference) {
  html {
    scroll-behavior: smooth;
  }
}

/* Prevent text selection on buttons */
button, .btn {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/* Better focus states for accessibility */
button:focus-visible,
a:focus-visible,
input:focus-visible {
  outline: 2px solid #7d66d9;
  outline-offset: 2px;
}

/* ============================================
   TYPOGRAPHY SYSTEM
   ============================================ */
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-display);
  font-weight: 700;
  line-height: 1.15;
  letter-spacing: -0.03em;
  color: var(--neutral-900);
}

.font-display {
  font-family: var(--font-display);
}

.font-heading {
  font-family: var(--font-heading);
}

.font-body {
  font-family: var(--font-body);
}

/* Fluid Typography */
.text-fluid-xs { font-size: clamp(0.75rem, 0.7rem + 0.25vw, 0.875rem); }
.text-fluid-sm { font-size: clamp(0.875rem, 0.8rem + 0.375vw, 1rem); }
.text-fluid-base { font-size: clamp(1rem, 0.9rem + 0.5vw, 1.125rem); }
.text-fluid-lg { font-size: clamp(1.125rem, 1rem + 0.625vw, 1.25rem); }
.text-fluid-xl { font-size: clamp(1.25rem, 1rem + 1.25vw, 1.5rem); }
.text-fluid-2xl { font-size: clamp(1.5rem, 1.2rem + 1.5vw, 2rem); }
.text-fluid-3xl { font-size: clamp(2rem, 1.5rem + 2.5vw, 3rem); }
.text-fluid-4xl { font-size: clamp(2.5rem, 1.8rem + 3.5vw, 4rem); }
.text-fluid-5xl { font-size: clamp(3rem, 2rem + 5vw, 5rem); }

/* Text Gradient */
.text-gradient {
  background: var(--gradient-primary);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}

.text-gradient-aurora {
  background: var(--gradient-aurora);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}

.text-gradient-sunset {
  background: var(--gradient-sunset);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}

/* Text Balance */
.text-balance {
  text-wrap: balance;
}

/* ============================================
   CUSTOM SCROLLBAR
   ============================================ */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: var(--neutral-100);
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, var(--color-primary-500), var(--color-primary-600));
  border-radius: 10px;
  border: 2px solid var(--neutral-100);
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, var(--color-primary-600), var(--color-primary-700));
}

/* Selection */
::selection {
  background: var(--color-primary-400);
  color: white;
}

/* ============================================
   DARK MODE
   ============================================ */
.dark {
  --neutral-50: #0a0a0a;
  --neutral-100: #171717;
  --neutral-200: #262626;
  --neutral-800: #e5e5e5;
  --neutral-900: #fafafa;
}

.dark body,
body.dark {
  background-color: #0a0a0a;
  color: #e5e5e5;
}

.dark h1, .dark h2, .dark h3, 
.dark h4, .dark h5, .dark h6 {
  color: #fafafa;
}

.dark ::-webkit-scrollbar-track {
  background: #171717;
}

.dark ::-webkit-scrollbar-thumb {
  border-color: #171717;
}

/* ============================================
   BUTTON SYSTEM
   ============================================ */
.btn {
  @apply relative inline-flex items-center justify-center gap-2
         font-semibold rounded-2xl
         transition-all duration-300
         focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2
         disabled:opacity-50 disabled:cursor-not-allowed;
  font-family: var(--font-heading);
}

.btn-sm { @apply px-4 py-2 text-sm; }
.btn-md { @apply px-6 py-3 text-base; }
.btn-lg { @apply px-8 py-4 text-lg; }

.btn-primary {
  @apply bg-gradient-to-r from-purple-600 via-violet-600 to-indigo-600
         text-white shadow-lg shadow-purple-500/25
         hover:shadow-xl hover:shadow-purple-500/30
         hover:scale-[1.02] active:scale-[0.98]
         focus-visible:ring-purple-500;
}

.btn-secondary {
  @apply bg-white/10 backdrop-blur-xl border border-white/20
         text-white
         hover:bg-white/20 hover:border-white/30
         active:scale-[0.98];
}

.btn-outline {
  @apply bg-transparent border-2 border-purple-500/50
         text-purple-600 dark:text-purple-400
         hover:bg-purple-500/10 hover:border-purple-500
         active:scale-[0.98]
         focus-visible:ring-purple-500;
}

.btn-ghost {
  @apply bg-transparent text-neutral-700 dark:text-neutral-300
         hover:bg-neutral-100 dark:hover:bg-neutral-800
         active:scale-[0.98];
}

/* Button Shimmer Effect */
.btn-shimmer {
  overflow: hidden;
}

.btn-shimmer::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.2),
    transparent
  );
  transition: left 0.5s var(--ease-out-expo);
}

.btn-shimmer:hover::before {
  left: 100%;
}

/* ============================================
   CARD SYSTEM
   ============================================ */
.card {
  @apply relative overflow-hidden rounded-3xl
         transition-all duration-500;
  transition-timing-function: var(--ease-out-expo);
}

.card-elevated {
  @apply bg-white dark:bg-neutral-900
         border border-neutral-200/50 dark:border-neutral-800
         shadow-lg;
}

.card-elevated:hover {
  @apply shadow-2xl -translate-y-2;
}

.card-glass {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
}

.card-gradient {
  @apply p-[1px] rounded-3xl;
  background: linear-gradient(135deg, 
    rgba(139, 92, 246, 0.5), 
    rgba(99, 102, 241, 0.5),
    rgba(79, 70, 229, 0.5)
  );
}

.card-gradient > div {
  @apply bg-white dark:bg-neutral-900 rounded-[calc(1.5rem-1px)] h-full;
}

/* Card Glow Effect */
.card-glow {
  position: relative;
}

.card-glow::before {
  content: '';
  position: absolute;
  inset: -1px;
  border-radius: inherit;
  padding: 1px;
  background: linear-gradient(135deg, 
    var(--color-primary-400),
    var(--color-primary-600),
    var(--color-primary-400)
  );
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  opacity: 0;
  transition: opacity 0.5s var(--ease-out-expo);
}

.card-glow:hover::before {
  opacity: 1;
}

/* ============================================
   ANIMATIONS (Inspired by motion.dev)
   ============================================ */

/* Fade animations */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fadeInUp {
  from { 
    opacity: 0; 
    transform: translateY(30px);
  }
  to { 
    opacity: 1; 
    transform: translateY(0);
  }
}

@keyframes fadeInDown {
  from { 
    opacity: 0; 
    transform: translateY(-30px);
  }
  to { 
    opacity: 1; 
    transform: translateY(0);
  }
}

@keyframes fadeInScale {
  from { 
    opacity: 0; 
    transform: scale(0.9);
  }
  to { 
    opacity: 1; 
    transform: scale(1);
  }
}

/* Float animation */
@keyframes float {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  25% { transform: translateY(-10px) rotate(1deg); }
  50% { transform: translateY(-20px) rotate(0deg); }
  75% { transform: translateY(-10px) rotate(-1deg); }
}

/* Pulse glow */
@keyframes pulseGlow {
  0%, 100% { 
    box-shadow: 0 0 20px rgba(139, 92, 246, 0.3);
  }
  50% { 
    box-shadow: 0 0 40px rgba(139, 92, 246, 0.5);
  }
}

/* Shimmer */
@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

/* Gradient shift */
@keyframes gradientShift {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

/* Bounce subtle */
@keyframes bounceSubtle {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-8px); }
}

/* Spin slow */
@keyframes spinSlow {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* Animation utilities */
.animate-fadeIn { animation: fadeIn 0.6s var(--ease-out-expo) forwards; }
.animate-fadeInUp { animation: fadeInUp 0.8s var(--ease-out-expo) forwards; }
.animate-fadeInDown { animation: fadeInDown 0.8s var(--ease-out-expo) forwards; }
.animate-fadeInScale { animation: fadeInScale 0.6s var(--ease-out-expo) forwards; }
.animate-float { animation: float 6s ease-in-out infinite; }
.animate-pulseGlow { animation: pulseGlow 2s ease-in-out infinite; }
.animate-shimmer { 
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
  background-size: 200% 100%;
  animation: shimmer 2s infinite;
}
.animate-gradient { 
  background-size: 200% 200%;
  animation: gradientShift 8s ease infinite;
}
.animate-bounceSubtle { animation: bounceSubtle 2s ease-in-out infinite; }
.animate-spinSlow { animation: spinSlow 8s linear infinite; }

/* Stagger delays */
.stagger-1 { animation-delay: 0.1s; }
.stagger-2 { animation-delay: 0.2s; }
.stagger-3 { animation-delay: 0.3s; }
.stagger-4 { animation-delay: 0.4s; }
.stagger-5 { animation-delay: 0.5s; }
.stagger-6 { animation-delay: 0.6s; }

/* ============================================
   BACKGROUNDS & EFFECTS
   ============================================ */
.bg-mesh {
  background: var(--gradient-mesh);
  background-color: var(--neutral-50);
}

.dark .bg-mesh {
  background: 
    radial-gradient(at 40% 20%, hsla(262, 83%, 58%, 0.15) 0px, transparent 50%),
    radial-gradient(at 80% 0%, hsla(189, 100%, 56%, 0.1) 0px, transparent 50%),
    radial-gradient(at 0% 50%, hsla(355, 100%, 72%, 0.1) 0px, transparent 50%);
  background-color: #0a0a0a;
}

.bg-grid {
  background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239333ea' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
}

.bg-dots {
  background-image: radial-gradient(circle, rgba(139, 92, 246, 0.15) 1px, transparent 1px);
  background-size: 24px 24px;
}

/* Noise texture overlay */
.bg-noise::after {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  opacity: 0.02;
  pointer-events: none;
  mix-blend-mode: overlay;
}

/* Blob shapes */
.blob {
  position: absolute;
  border-radius: 50%;
  filter: blur(60px);
  opacity: 0.5;
  animation: float 10s ease-in-out infinite;
}

/* ============================================
   FORM ELEMENTS
   ============================================ */
.input {
  @apply w-full px-4 py-3 rounded-xl
         bg-white dark:bg-neutral-900
         border border-neutral-200 dark:border-neutral-700
         text-neutral-800 dark:text-neutral-200
         placeholder:text-neutral-400 dark:placeholder:text-neutral-500
         transition-all duration-300
         focus:outline-none focus:ring-2 focus:ring-purple-500/50
         focus:border-purple-500;
  font-family: var(--font-body);
}

.input-glass {
  @apply bg-white/10 backdrop-blur-xl
         border-white/20
         text-white placeholder:text-white/60;
}

/* ============================================
   UTILITY CLASSES
   ============================================ */
.section-padding {
  padding-block: var(--section-padding);
}

.container-tight {
  @apply max-w-5xl mx-auto px-4 sm:px-6 lg:px-8;
}

.container-wide {
  @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
}

/* Skeleton loading */
.skeleton {
  @apply relative overflow-hidden bg-neutral-200 dark:bg-neutral-800 rounded-lg;
}

.skeleton::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
  animation: shimmer 1.5s infinite;
}

/* Hide scrollbar but keep functionality */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* ============================================
   RESPONSIVE UTILITIES
   ============================================ */
@media (max-width: 640px) {
  .mobile-full { @apply w-full; }
  .mobile-stack { @apply flex-col; }
  .mobile-center { @apply text-center items-center justify-center; }
}

/* Touch optimizations */
@media (hover: none) and (pointer: coarse) {
  .card-elevated:hover,
  .card-glow:hover::before {
    transform: none;
    opacity: 0;
  }
  
  .btn:active {
    transform: scale(0.98);
  }
}

/* ============================================
   ACCESSIBILITY
   ============================================ */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

.focus-visible-ring {
  @apply focus-visible:outline-none focus-visible:ring-2 
         focus-visible:ring-purple-500 focus-visible:ring-offset-2;
}

/* Skip link */
.skip-link {
  @apply absolute -top-full left-4 z-50
         px-4 py-2 bg-purple-600 text-white rounded-lg
         focus:top-4 transition-all;
}

/* ============================================
   LAYOUT HELPERS
   ============================================ */
.layout { position: relative; }

.react-grid-item {
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
}

.drag-handle {
  cursor: move;
  z-index: 10;
  transition: color 0.2s ease;
}

.drag-handle:hover {
  color: var(--color-primary-500);
}

/* Signature Pad */
.signature-pad {
  border: 2px dashed var(--neutral-300);
  border-radius: 1rem;
  padding: 1rem;
  background: rgba(255, 255, 255, 0.5);
  backdrop-filter: blur(10px);
}

.signature-pad canvas {
  border: 1px solid var(--neutral-200);
  border-radius: 0.5rem;
}
